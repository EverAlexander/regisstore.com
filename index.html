<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Login Google</title>
<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
<h1>Bienvenido</h1>
<button id="btnLogin">Iniciar sesión con Google</button>

<script>
  const CLIENT_ID = "TU_CLIENT_ID";
  let tokenClient;

  window.onload = () => {
    tokenClient = google.accounts.oauth2.initTokenClient({
      client_id: CLIENT_ID,
      scope: "https://www.googleapis.com/auth/spreadsheets",
      callback: (tokenResponse) => {
        // Guardar token en sessionStorage
        sessionStorage.setItem("accessToken", tokenResponse.access_token);
        // Redirigir a la página principal
        window.location.href = "agregarPrestamos.html";
      }
    });
  };

  document.getElementById("btnLogin").onclick = () => {
    tokenClient.requestAccessToken();
  };
</script>
</body>
</html>
